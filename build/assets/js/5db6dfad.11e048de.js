"use strict";(self.webpackChunklzo_docs_blog=self.webpackChunklzo_docs_blog||[]).push([[8283],{9278:(e,r,n)=>{n.d(r,{Zo:()=>i,kt:()=>v});var t=n(9301);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function l(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=t.createContext({}),p=function(e){var r=t.useContext(c),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},i=function(e){var r=p(e.components);return t.createElement(c.Provider,{value:r},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,i=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,v=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return n?t.createElement(v,s(s({ref:r},i),{},{components:n})):t.createElement(v,s({ref:r},i))}));function v(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=m;var l={};for(var c in r)hasOwnProperty.call(r,c)&&(l[c]=r[c]);l.originalType=e,l[d]="string"==typeof e?e:o,s[1]=l;for(var p=2;p<a;p++)s[p]=n[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2746:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var t=n(8448),o=(n(9301),n(9278));const a={title:"\u95ee\u9898"},s=void 0,l={unversionedId:"server/node/server-issues",id:"server/node/server-issues",title:"\u95ee\u9898",description:"\u77ed\u4fe1\u670d\u52a1",source:"@site/docs/server/node/server-issues.md",sourceDirName:"server/node",slug:"/server/node/server-issues",permalink:"/docs/server/node/server-issues",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/server/node/server-issues.md",tags:[],version:"current",frontMatter:{title:"\u95ee\u9898"},sidebar:"tutorialSidebar",previous:{title:"express",permalink:"/docs/server/node/server-express"},next:{title:"mongodb",permalink:"/docs/server/node/server-mongodb"}},c={},p=[{value:"\u77ed\u4fe1\u670d\u52a1",id:"\u77ed\u4fe1\u670d\u52a1",level:3},{value:"node \u9002\u7528 es \u8bed\u6cd5",id:"node-\u9002\u7528-es-\u8bed\u6cd5",level:4},{value:"node \u7248\u672c\u592a\u9ad8",id:"node-\u7248\u672c\u592a\u9ad8",level:4}],i={toc:p},d="wrapper";function u(e){let{components:r,...n}=e;return(0,o.kt)(d,(0,t.Z)({},i,n,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"\u77ed\u4fe1\u670d\u52a1"},"\u77ed\u4fe1\u670d\u52a1"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u53d1\u9001\u529f\u80fd\u9700\u8981\u817e\u8baf\u4e91\uff0c\u963f\u91cc\u4e91\u7b49\u5e73\u53f0\u63d0\u4f9b"),(0,o.kt)("li",{parentName:"ul"},"\u53bb\u4ed6\u4eec\u5b98\u7f51\u627e\u4e91\u901a\u4fe1\u6a21\u5757\uff0c\u91cc\u9762\u7528\u77ed\u4fe1\u3001\u8bed\u97f3\u3001\u90ae\u4ef6\u7b49\u901a\u4fe1\u670d\u52a1"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/qcloudsms/qcloudsms_js"},"\u817e\u8baf\u4e91 node sdk \u5305\u4e0e\u63a5\u5165\u65b9\u5f0f")),(0,o.kt)("li",{parentName:"ul"},"\u5bf9\u63a5\u6570\u636e",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"\u9700\u8981\u53bb\u7533\u8bf7\u77ed\u4fe1\u90a3\u91cc\uff0c\u521b\u5efa\u5e94\u7528\u627e\u5230\u5e94\u7528ID \uff08AppId\uff09"),(0,o.kt)("li",{parentName:"ul"},"\u8fdb\u5165\u5e94\u7528\u627e\u5230\uff08AppKey\uff09 "),(0,o.kt)("li",{parentName:"ul"},"\u9009\u62e9\u6a21\u677fID(\u7ed9\u4e0e\u77ed\u4fe1\u4e0d\u540c\u63d0\u793a\uff0c\u53d1\u9001\u4e0d\u540c\u5185\u5bb9)")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'var QcloudSms = require("qcloudsms_js");\n\n// \u77ed\u4fe1\u5e94\u7528SDK AppID\nvar appid = 1400009099;  // SDK AppID\u662f1400\u5f00\u5934\n\n// \u77ed\u4fe1\u5e94\u7528SDK AppKey\nvar appkey = "9ff91d87c2cd7cd0ea762f141975d1df37481d48700d70ac37470aefc60f9bad";\n\n// \u9700\u8981\u53d1\u9001\u77ed\u4fe1\u7684\u624b\u673a\u53f7\u7801\nvar phoneNumbers = ["21212313123", "12345678902", "12345678903"];\n\n// \u77ed\u4fe1\u6a21\u677fID\uff0c\u9700\u8981\u5728\u77ed\u4fe1\u5e94\u7528\u4e2d\u7533\u8bf7\nvar templateId = 7839;  // NOTE: \u8fd9\u91cc\u7684\u6a21\u677fID`7839`\u53ea\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u771f\u5b9e\u7684\u6a21\u677fID\u9700\u8981\u5728\u77ed\u4fe1\u63a7\u5236\u53f0\u4e2d\u7533\u8bf7\n\n// \u7b7e\u540d\nvar smsSign = "\u817e\u8baf\u4e91";  // NOTE: \u8fd9\u91cc\u7684\u7b7e\u540d\u53ea\u662f\u793a\u4f8b\uff0c\u8bf7\u4f7f\u7528\u771f\u5b9e\u7684\u5df2\u7533\u8bf7\u7684\u7b7e\u540d, \u7b7e\u540d\u53c2\u6570\u4f7f\u7528\u7684\u662f`\u7b7e\u540d\u5185\u5bb9`\uff0c\u800c\u4e0d\u662f`\u7b7e\u540dID`\n\n// \u5b9e\u4f8b\u5316QcloudSms\nvar qcloudsms = QcloudSms(appid, appkey);\n\n// \u8bbe\u7f6e\u8bf7\u6c42\u56de\u8c03\u5904\u7406, \u8fd9\u91cc\u53ea\u662f\u6f14\u793a\uff0c\u7528\u6237\u9700\u8981\u81ea\u5b9a\u4e49\u76f8\u5e94\u5904\u7406\u56de\u8c03\nfunction callback(err, cres, resData) {\n    if (err) {\n        console.log("err: ", err);\n        res.send({\n            code: -1,\n            message:"\u53d1\u9001\u5931\u8d25"\n        })\n    } else {\n        console.log("request data: ", cres.req);\n        console.log("response data: ", resData);\n\n        res.send({\n            code:0,\n            data:{\n                viscode:cres.req.body.params[0]   // \u627e\u5230\u9a8c\u8bc1\u7801\u6240\u5728\u4f4d\u7f6e\uff0c\u524d\u7aef\u62ff\u5230\uff0c\u7528\u6237\u767b\u5f55\u65f6\u4e0e\u8fd9\u4e2a\u52a0\u5bc6\u5bf9\u6bd4\n            }\n        })\n    }\n}\n\n// \u6307\u5b9a\u53d1\u9001\u65b9\u5f0f(\u7fa4\u53d1\u6216\u5355\u53d1)\nvar ssender = qcloudsms.SmsSingleSender();\nvar params = [Math.floor(Math.random()*8999) + 1000];\nssender.sendWithParam(86, phoneNumbers[0], templateId,\n  params, smsSign, "", "", callback);  // \u7b7e\u540d\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\u4e32\n')),(0,o.kt)("h4",{id:"node-\u9002\u7528-es-\u8bed\u6cd5"},"node \u9002\u7528 es \u8bed\u6cd5"),(0,o.kt)("p",null,'\u6539\u540e\u7f00\u540d\u4e3a .mjs \u6216 package.json \u7684 "type": "module"'),(0,o.kt)("h4",{id:"node-\u7248\u672c\u592a\u9ad8"},"node \u7248\u672c\u592a\u9ad8"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"cli \u62a5\u9519 ",(0,o.kt)("inlineCode",{parentName:"p"},"Error: error:0308010C:digital envelope routines::unsupported")," \u4e00\u822clocl\u4e2d @achrinza/node-ipc \u5bfc\u81f4"),(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'// \u6dfb\u52a0 set NODE_OPTIONS=--openssl-legacy-provider\n "scripts": {\n    "dev": "set NODE_OPTIONS=--openssl-legacy-provider && vue-cli-service serve",\n  },\n'))))}u.isMDXComponent=!0}}]);