<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-linux/linux-shell">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">shell | WEB - 前端开发</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/linux/linux-shell"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="shell | WEB - 前端开发"><meta data-rh="true" name="description" content="shell 脚本"><meta data-rh="true" property="og:description" content="shell 脚本"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/linux/linux-shell"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/linux/linux-shell" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/linux/linux-shell" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="WEB - 前端开发 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="WEB - 前端开发 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dae88263.css">
<link rel="preload" href="/assets/js/runtime~main.001365ce.js" as="script">
<link rel="preload" href="/assets/js/main.c475113b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/photo.jpg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/photo.jpg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">我的WEB文档</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/other-weblinks">文档</a><a href="https://github.com/liaozhongxun" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/blogtype/play-rtsp-video">blogtype</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/book/js/JavaScript 核心进阶">book</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/database/">时序库</a><button aria-label="Toggle the collapsible sidebar category &#x27;时序库&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/idea/idea-sublime">idea</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/linux/">linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;linux&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-archlinux">archlinux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-kali">kali</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-manjaro">linux-manjaro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-nano">linux 的文本编辑器 nano</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-nginx">nginx</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/linux/linux-programme/lin-pgm-host">linux-programme</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-servers-yule">工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-servers">linux服务</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-shell-config-path">配置路径</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-shell-issues">小技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/linux/linux-shell">shell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-vim">vim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-vimrc">vimrc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/linux/linux-vimscript">vimscript</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/other/other-algorithm">other</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/other-weblinks-yule">非学习资源</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/other-weblinks">工作学习资源</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/project/xuepindata-v">project</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/server/C/C-base">server</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/web/h5model/h5-model-localvideo">web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/window/win-gitbash">window</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/linux/"><span itemprop="name">linux</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">shell</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>shell</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="shell-脚本">shell 脚本<a class="hash-link" href="#shell-脚本" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a class="hash-link" href="#概述" title="Direct link to heading">​</a></h3><ul><li>ls(命令) -&gt; shell(bash、zsh) -&gt; 内核(kemel) -&gt; 硬件<ul><li><code>ls</code>:用户使用文字或图形界面操作操作系统</li><li><code>shell</code>:接受与来自用户的命令与内核进行沟通，是<code>用户</code>与<code>内核沟通</code>的接口程序</li><li><code>内核</code>:控制硬件进行工作，进程管理储存管理等</li></ul></li><li>shell对本质是<code>对内核进行保护</code>，只有<code>shell能识别</code>的命令才能用了操控硬件</li><li>脚本语言<code>不需要</code> 编译,把命令写在文件中就是shell脚本了</li><li><code>shell脚本</code>是shell命令的<code>有序集合</code></li><li><code>系统编程</code>:主要为了让用户更好更方便的操作硬件设备，并且对硬件也起到保护作用，我们所写的程序，本质就是对硬件进行操作，所以操作系统提供的接口本来就能对硬件进行操作的</li><li><code>系统调用</code>: <ul><li>步骤: shell、library rou(库函数)、applications(应用层接口) -&gt; system calls(系统调用，提供直接操作内核的特殊接口) -&gt; kernel(内核) -&gt; 操作硬件设备</li></ul></li><li>shell优势，处理操作系统底层的业务（大量命令为他做支持，grep awk sed 等）</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="开启-shell">开启 shell<a class="hash-link" href="#开启-shell" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash   指定使用bash解释器,必须顶格,linux 默认bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">指定脚本的执行方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">、开头 </span><span class="token comment" style="color:#999988;font-style:italic">#！</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">、执行文件的时候 </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"> install.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">、/bin/bash 终端默认使用 </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shell 脚本的执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">、调用相关环境变量文件，脚本里可以随意使用里面的数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /home/xx/.bashrc </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /home/xx/.bash_profile </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /etc/bashrc </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /etc/profile </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /etc/profile.d </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">优先级最高 </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">、执行shell的方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"> shellfile </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> shellfile </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">脚本头没指定解释器</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path/shellfile </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ./shellfile </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">没有x权限不能执行</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">source</span><span class="token plain"> shellfile </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> shellfile（读入或加载指定shell脚本，可以将脚本中的变量传到当前shell里）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">、基本规范</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    开头添加 </span><span class="token comment" style="color:#999988;font-style:italic">#!/bin/bash 解释器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Date 日期</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Author 作者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Mail 联系方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Func 功能</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Version 版本 。。。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    尽量不要用中文</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    扩展名以.sh结尾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    成对的符号先敲好，不要一个个敲</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 两端必须有空格</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">不算</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/passwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello word&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ==================定义一个变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">num</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#等号左右不能有空格</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">readonly</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#age不能被改变</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#name会被导出为环境变量,其他shell都能使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">declare</span><span class="token plain"> -i </span><span class="token function" style="color:#d73a49">sum</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># sum是一个整数变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$num</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 使用变量加$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${num}</span><span class="token plain">Addstring </span><span class="token comment" style="color:#999988;font-style:italic"># 使用变量加${}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># --- &quot;&quot; 弱引用 里面可以读取变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># --- ``|$() 把里面的内容当中命令执行，得到执行返回的结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">oa</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;this is </span><span class="token string variable" style="color:#36acaa">$num</span><span class="token string" style="color:#e3116c"> ，</span><span class="token string variable" style="color:#36acaa">`</span><span class="token string variable function" style="color:#d73a49">date</span><span class="token string variable" style="color:#36acaa">`</span><span class="token string" style="color:#e3116c">,</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">date</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># --- &#x27;&#x27; 强引用 把动态的操作当成字符，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">unset</span><span class="token plain"> num </span><span class="token comment" style="color:#999988;font-style:italic">#清除变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ==================if语句</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#用do 和 down 表示其他语言的{}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> 表达式 </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;yes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> 表达式 </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;noyes nono&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;no&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 结束语句</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$num</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;num is true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${num1}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;num1 is true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;no&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 结束语句</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ================== case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">read</span><span class="token plain"> -p </span><span class="token string" style="color:#e3116c">&quot;请输入任意字符&quot;</span><span class="token plain"> key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$key</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a-z</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">A-Z</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;这是英文字母&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">-9</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;这是一个数字&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    *</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;这是一个其他字符&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">esac</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ================== for 循环</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token variable punctuation" style="color:#393A34">((</span><span class="token variable" style="color:#36acaa"> i</span><span class="token variable operator" style="color:#393A34">=</span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa"> i</span><span class="token variable operator" style="color:#393A34">&lt;=</span><span class="token variable number" style="color:#36acaa">100</span><span class="token variable punctuation" style="color:#393A34">;</span><span class="token variable" style="color:#36acaa"> i</span><span class="token variable operator" style="color:#393A34">++</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ================== for in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">i</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">i</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#相当于多进程并发执行 ，适合耗时长，后面程序不依赖当前结果，且计算机资源足够的时候</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># 线程是进程的一部分，shell只能多进程，多线程需要Python的高级语言</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># 这边只适合一条语句，如果复杂可以放到函数里 funcName 12 &amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wait</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 等待循环体全部执行完再做后面事情</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># {1..5} 1-5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># $(ls /etc)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ================================= while</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> -le </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    或 </span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">`</span><span class="token variable function" style="color:#d73a49">expr</span><span class="token variable" style="color:#36acaa"> $i+1</span><span class="token variable" style="color:#36acaa">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    或 </span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$((</span><span class="token variable" style="color:#36acaa"> $i</span><span class="token variable operator" style="color:#393A34">+</span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable" style="color:#36acaa">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 操作文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token builtin class-name">read</span><span class="token plain"> line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">${line}</span><span class="token string" style="color:#e3116c">-change&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> /etc/passwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># until</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 与while循环相反，测试成立才退出循环</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">until</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> -le </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain"> + </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ================================== 函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function-name function" style="color:#d73a49">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> xxx </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function-name function" style="color:#d73a49">name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token assign-left variable" style="color:#36acaa">SUM</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$1</span><span class="token plain">+</span><span class="token variable" style="color:#36acaa">$2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token builtin class-name">return</span><span class="token plain"> SUM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 通过位置变量接收参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$?</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#获取返回值方式最大255</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 在shell中处理()中定义的变量，只要不做任何修饰，都能看做是全局变量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ==================总结</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 指定解释器的地方</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1、shell文件顶端；2、bash shell.sh；3、通过路径执行脚本的终端；</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2、分号可以合并多行，或者一行执行多条命令</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="执行">执行<a class="hash-link" href="#执行" title="Direct link to heading">​</a></h3><ul><li>echp $PATH</li><li>存放外部命令的路径</li><li>访问命令就可以省去前面的路径直接写名字</li><li>一个<code>shell脚本</code>可以看做一个命令</li><li>如果没在<code>$PATH</code>里的路径下,就需要<code>加上绝对路径</code>或<code>相对路径执行</code>才能执行,</li><li>或直接通过<code>/etc/shells</code>下的解释器直接执行脚本</li><li><code>bash shells.sh</code> -<code>-n</code>:检查错误 -<code>-x</code>:将脚本中执行的命令也打印出来</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="常用的-bash-语句">常用的 bash 语句<a class="hash-link" href="#常用的-bash-语句" title="Direct link to heading">​</a></h3><ul><li>shift 从前面删除一个位置变量</li><li>export 定义环境变量</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="语法">语法<a class="hash-link" href="#语法" title="Direct link to heading">​</a></h3><ul><li><p>特殊符号</p><ul><li><code>\</code>:<code>echo -e &quot;this \n towline&quot;</code> 配合 -e 生效 </li><li><code>(xxx)</code>:小括号会创建一个子shell，里面操作不会影响当前shell</li><li><code>{xxx}</code>:大括号里的操作会音响当前shell</li></ul></li><li><p>算术运算符(<code>+、-、*、/、%、**</code>)</p><ul><li><code>$[$a+$b]</code>:运算+不能直接用,<code>$[]</code>或<code>$(())</code>或<code>expr 1 + 2</code>里的东西当做运算处理&#x27;</li></ul></li><li><p>变量</p><ul><li><p><code>普通变量(只能在函数或脚本中用)</code></p><ul><li>num=1</li><li>命令定义成变量 xxx=<code>date +%F</code>| xxx=$(date +%F)   echo $xxx</li></ul></li><li><p><code>环境变量(全局变量，能在创建他们的shell和他们的子shell中用)</code></p><ul><li><p>一般大写表示</p></li><li><p>常用环境变量</p><ul><li><p><code>$PATH</code>:用户命令路径</p></li><li><p><code>$SHELL</code>:用户使用的 shell</p></li><li><p><code>$HISTSIZE</code>:history 查看历史命令，这个可以查看 history 上限</p></li><li><p><code>$USER</code>:获取当前用户的名称</p></li><li><p><code>$HOME</code>:获取当前用户加</p></li><li><p><code>$PWD</code>:获取当前用户工作目录</p></li><li><p><code>$UID</code>:获取当前用户的 ID</p></li><li><p><code>$LANG</code>:语言</p></li><li><p><code>$SHLVL</code>:bash实例个数</p></li><li><p><code>$TMOUT</code>:多少秒没操作就自动退出</p></li><li><p><code>$PS1</code>:定义终端用户信息格式</p></li></ul></li><li><p>临时更改: PATH = xxxx</p></li><li><p>取消环境变量：unset 变量名</p></li><li><p>定义环境变量</p><ul><li><code>export NAME=&quot;name&quot;</code>:NAM 只有当前 shell 和子 shell 生效</li><li>添加扩展PATH:export PATH=&quot;/home/tuotu/bin:$PATH&quot;</li><li>永久设置<ul><li><code>bashrc</code>：用户登录、打开 shell、开子 shell 都会执行<ul><li><code>/etc/bashrc</code></li><li><code>~/.bashrc</code></li></ul></li><li><code>profile</code>:只在用户登录时执行一次<ul><li><code>/etc/profile</code>:全局</li><li><code>/etc/profile.d/*.sh</code>:优先级高，所有符合条件的文件开机都会执行一次</li><li><code>~/.bash_profile</code>:局部的</li></ul></li><li><code>source|. filename</code>:都能重新加载文件</li></ul></li></ul></li><li><p><code>env|set|export|printenv</code> 查看系统所有环境变量</p></li><li><p>大概顺序 etc/profile → /etc/profile.d/*.sh → ~/.bash_profile → ~/.bashrc → <!-- -->[/etc/bashrc]</p></li></ul></li><li><p><code>位置变量$1-$9</code>:接收用户执行脚本的传参，超过9 <code>${10,...}</code></p></li><li><p><code>预定于变量</code></p><ul><li><code>$?</code>:0:上一条命令执行结果为真,否则执行为假<!-- -->[ -z $1 ]<ul><li>0 上条执行成功</li><li>2 权限拒绝</li><li>1-125 运行失败，命令错误 参数错误等</li><li>126 找到该命令，但是无法执行</li><li>127 未找到运行的命令</li></ul></li><li><code>$#</code>:表示位置参数数量</li><li><code>$0</code>:当前脚本的名称<ul><li>dirname $0 :获取整个路径</li><li>basename $0 :只获取文件名</li></ul></li><li><code>$@</code>:保存除$0外的所有参数<ul><li>每个参数都是单独的(数组形式)</li></ul></li><li><code>$*</code>:打印除了$0所有具体的参数<ul><li>所有参数视为一个参数</li></ul></li><li><code>$$</code>:获取当前进程的进程号</li><li><code>$!</code>:上一个指令的PID</li></ul></li></ul></li><li><p>条件测试与比较 <code>[ 条件表达式 ]</code> | <code>test -d $1</code></p><ul><li><p>解释</p><ul><li><code>[ 条件表达式 ]</code></li><li><code>[[ 条件表达式 ]]</code>:这种支持传统的大于小于号</li><li>中括号两边必须存在空格</li></ul></li><li><p>检测</p><ul><li><code>[ -d $1 ]</code>:检测参数一是否为目录</li><li><code>[ -f $1 ]</code>:检测参数一是否为文件</li><li><code>[ -e $1 ]</code>:检测母乳或文件是否存在</li><li><code>[ -r $1 ]</code>:</li><li><code>[ -x $1 ]</code>:</li><li><code>[ -w $1 ]</code>:检测用户是否有写入权限</li><li><code>[ -s $1 ]</code>:检测文件是否为空</li><li>文件类型按ll第一位的文件类型检测    </li></ul></li><li><p>数值比较</p><ul><li><code>-eq</code>:等于</li><li><code>-ne</code>:不等于</li><li><code>-gt</code>:大于</li><li><code>-lt</code>:小于</li><li><code>-le</code>:小于等于</li><li><code>-ge</code>:大于等于</li></ul></li><li><p>字符串比较</p><ul><li><p><code>=</code>:等于</p></li><li><p><code>!=</code>:不等于</p></li><li><p><code>-z</code>:<!-- -->[ -z $1 ]<!-- -->检测字符串是否为空,如果为空，那么结果为真</p></li><li><p><code>-n</code>:<!-- -->[ -n $1 ]<!-- -->检测字符串是否不为空</p></li><li><p><code>在进行字符串比较时，最好为字符串加上引号，并且等号两侧留有空格</code></p></li></ul></li><li><p>文件比较</p><ul><li><code>file1 -nt file2</code>:判断文件1修改时间是否比文件2新</li><li><code>file1 -ot file2</code>:判断文件1修改时间是否比文件2旧</li></ul></li><li><p>逻辑运算</p><ul><li><code>-a、-o、!</code>:类 1 </li><li><code>&amp;&amp;、||</code>:类 2 <code>链接两个命令</code> 有断路功能</li></ul></li></ul></li><li><p>循环控制语句</p><ul><li><code>break</code>:结束退出循环</li><li><code>continue</code>:跳出本次循，不执行 continue 本次循环内后面的代码</li></ul></li><li><p>其他</p><ul><li><code>shift</code>:删除第一格位置参数,后面如果有全部往左移动一格</li><li><code>exit</code>:直接退出程序
<code>exit 1-255</code>:程序结束后返回值，通过<code>$?</code>获取，程序正常结束值为 0</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符串">字符串<a class="hash-link" href="#字符串" title="Direct link to heading">​</a></h3><ul><li>获取字符串长度 ${#STR}</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="数组">数组<a class="hash-link" href="#数组" title="Direct link to heading">​</a></h3><blockquote><p>shell只支持一维数组<code>括号表示</code> 和<code>空格隔开</code></p></blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">list</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">${list</span><span class="token variable punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">0</span><span class="token variable punctuation" style="color:#393A34">]</span><span class="token variable" style="color:#36acaa">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 获取下标为0的数组元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">${list</span><span class="token variable punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">*</span><span class="token variable punctuation" style="color:#393A34">]</span><span class="token variable" style="color:#36acaa">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># @和*表示数组的所有元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">${</span><span class="token variable operator" style="color:#393A34">#</span><span class="token variable" style="color:#36acaa">list</span><span class="token variable punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">@</span><span class="token variable punctuation" style="color:#393A34">]</span><span class="token variable" style="color:#36acaa">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 获取数组长度</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令">命令<a class="hash-link" href="#命令" title="Direct link to heading">​</a></h3><ul><li><p><code>read num</code> : 暂停获取用户输入信息</p><ul><li><code>-p 请输入一个数字</code>:增加提示</li></ul></li><li><p><code>seq</code>:构造列表</p><ul><li>数量<ul><li><code>seq 5</code>:尾数</li><li><code>seq 5 6</code>:首数 尾数</li><li><code>seq 1 2 10</code>:首数 增量 尾数</li></ul></li><li>选项
<code>-w</code>:补 0 到最大位数</li></ul></li><li><p><code>cut</code>:取列值（类似数组切割 splic）</p><ul><li><code>-d&#x27;:&#x27; -f3</code>:将一行通过:分割，并获取第三段</li><li><code>-f1,5</code>:选取多列</li><li><code>-f1-5</code>:选取多列</li></ul></li><li><p><code>bash</code>: 执行脚本</p><ul><li><code>-n</code>:测试语法错误</li></ul></li><li><p><code>sort</code>:对文本<code>输出结果</code>进行排序，不影响源文件</p><ul><li>默认以首字母 ASCII 进行排序</li><li><code>man ascii</code>:查看 ASCII 表</li><li>选项<ul><li><code>-r</code>:降序</li><li><code>-t&quot;:&quot; -k3</code>:指定分割符号，并安装指定<code>列</code>进行排序</li><li><code>-n</code>:按照数值大小排序，需明确对象是数字</li><li><code>f</code>:忽略大小写</li><li><code>u</code>:去除重复</li></ul></li></ul></li><li><p><code>uniq -c</code>:统计<code>连续</code>相同的个数，配合 sort 使用</p></li><li><p><code>tr</code>:单字符对应替换</p><ul><li><code>tr ab 12</code>:将文本所以 a 替换成 1，所以 b 替换成 2</li><li><code>tr -d &quot; &quot;</code>:不指定目标字符，删除操作</li></ul></li><li><p>文本处理三剑客</p><ul><li><p><code>grep</code>:(文本过滤工具)查找</p><ul><li><p>grep <!-- -->[option][pattern]<!-- --> file</p></li><li><p>option: 参数</p><ul><li><p><code>-i</code>:忽略字符大小写</p></li><li><p><code>-o</code>:仅显示匹配到的字符本身</p></li><li><p><code>-v</code>:显示不能匹配到的行</p></li><li><p><code>-E</code>:使用扩展正则元字符(扩展元字符不需要加<code>\</code>了,或egrep)</p></li><li><p><code>-q</code>:静默匹配 即不输出任何内容</p></li><li><p><code>-n</code>:显示匹配内容的行号</p></li><li><p><code>-c</code>:显示匹配数据的行数</p></li><li><p><code>-d、-r</code>:查找文件是一个目录必须加这个参数</p></li><li><p><code>-l</code>:列出目录下匹配到内容所在的文件</p></li></ul></li><li><p>pattern:匹配模式 内容</p></li><li><p>查找文件夹下所有文件总行数目</p><ul><li>grep . -rl --exclude-dir={node_modules,dist} --exclude={yarn.lock} ./|xargs grep -v &quot;^$&quot;|wc -l</li><li>grep 找到当前文件夹下所有文件|输出所有文件空行取反|查看内容行数</li></ul></li></ul></li><li><p><code>sed</code>:(流编辑器 文本编辑工具)查找、替换</p><ul><li><p>格式: <code>sed [选项] &#x27;sed脚本&#x27; 文本文件</code></p><ul><li>多选项 -i -E 分开</li></ul></li><li><p>选项</p><ul><li><code>-r</code>:使用扩展正则</li><li><code>-i</code>:直接编辑文本</li><li><code>-e</code>:多点编辑<ul><li>多点操作 sed -e &quot;1,2a aaaa&quot; -e 3,4a bbb file</li></ul></li><li><code>-n</code>:不输出模式空间内容,配合<code>p</code>使用</li><li><code>-f</code> ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；</li></ul></li><li><p>脚本（在<code>哪个位置</code>做<code>某个事情</code>）</p><ul><li><p>/可以用#代替,都行</p></li><li><p>地址定界</p><ul><li>1、不指定地址,默认全文编辑</li><li>2、单地址:<code>num</code>表示第几行,<code>$</code>表示最后一行</li><li>3、<code>/PATTERN/</code>:表示被次模式匹配到的行，可以是正则</li><li>4、地址范围:<code>num,num</code>表示从第几行<code>到</code>第几行，<code>num,+num</code>表示从第几行<code>向下</code>几行</li><li>5、步进:<code>num~num</code>从地几行开始，每几行</li></ul></li><li><p>编辑命令(一次只能一个动作，-e，;可以多次操作)</p><ul><li><p><code>a</code>:新增 表示在指定行之后追加内容</p></li><li><p><code>i</code>:插入 在指定行之前插入 (和a添加的位置相反)</p></li><li><p><code>d</code>:删除</p></li><li><p><code>c</code>:取代|修改 表示将指定行替换成新的内容</p></li><li><p><code>p</code>:打印 输出模式空间被匹配到的内容</p><ul><li>sed -n &quot;1,2p&quot; file-name 只会输出1，2行，没-n全部输出</li></ul></li><li><p><code>w filename</code>:将指定内容另存为新的文件</p></li><li><p><code>r filename</code>:读取某文件内容到指定行之后</p></li><li><p><code>!</code>:取反</p></li><li><p><code>s</code>:取代 替换</p><ul><li>格式：<code>s/旧内容/新内容/替换选项</code>,替换指定字符(存在/的内容可以用\转意或使用s#old#new#option)</li><li>旧内容:配合-r选项可以用正则<ul><li>多次正则匹配：sed &#x27;2s/aa/bb/;s/cc/dd/p&#x27; -n file</li></ul></li><li>替换选项<ul><li><code>g</code>:全局，每行所有匹配都替换</li><li><code>p</code>:只输出操作的内容，与<code>-n</code>配合，控制台只能看懂操作过的行</li><li><code>n</code>:（1-512），每行第n个匹配替换</li><li><code>w &lt;file-name&gt;</code>: 将匹配修改的结果写入指定文件中</li></ul></li><li><code>&amp;</code>:将<code>规则匹配到</code>的字符<code>拼接上</code>指定字符，&amp;符号代表匹配到的字符串<ul><li><code>sed &#x27;s/r..t/bf&amp;er/g&#x27; /etc/passwd</code> :将r两字符d的，前面加上bf后面加上er</li></ul></li></ul></li></ul></li></ul></li><li><p>示范</p><ul><li><p><code>sed &#x27;10d&#x27; /etc/fstab</code>:删除 fstab 文件<code>输出内容</code>的第十行</p><ul><li><code>10!d</code>:不删除第十行</li><li><code>1,3d</code>:删除 1 到 3 行</li><li><code>d</code>:删除所以输出内容</li><li><code>/^UUID/d</code>:删除一 UUID 开头的<code>行</code>,两个<code>/</code>是地址定界符</li><li><code>5r filename</code>:文件内容读取到 fstab 第五行后面</li></ul></li><li><p>多点编辑</p><ul><li>删除文件第三行后面的数据，并将bash替换成aaa</li><li><code>sed -e &#x27;3,$d&#x27; -e &#x27;s/bash/aaa/&#x27; /etc/fstab</code></li></ul></li><li><p>s替换</p><ul><li>1到十行开头添加#</li><li><code>sed &#x27;1,10s/^/#/g&#x27; /etc/fstab</code></li></ul></li><li><p>操作管道内容</p><ul><li><code>cat /etc/fstab| sed xxxx</code></li></ul></li><li><p>不要默认输出，只要有操作的行输出</p><ul><li><code>sed -r -n &#x27;5s/[a-w]+/&amp;_addstr/p&#x27; filename</code></li></ul></li><li><p>批量替换文件内容</p><ul><li><code>sed</code>:<!-- -->[sed -i &quot;s#https#http#g&quot; <code>grep http -rl VERO</code>]<!-- --> 将 VERO 下所有子目录所有文件里的 http 替换成 https</li></ul></li></ul></li></ul></li><li><p><code>awk</code>:(文本报告生成器 格式化文本)是GNU的开源awk，实际叫做<code>gawk</code></p><ul><li><p>概念</p><ul><li>awk是一种进程的轻量级语言，他有自己的变量，自己的一些语句，<code>不是shell</code>的语法</li><li>NR 横行(number record) 横行数量       (从上到下行的数量)</li><li>NF 竖行(number field)，竖行分段数量  （从左到右通过选项切割的总字段数）</li></ul></li><li><p>格式: <code>awk [选项] &#x27;pattern|范围 {action动作}&#x27; file1 file2</code></p></li><li><p>选项：</p><ul><li><code>-F&quot;:&quot;</code>:指定pring分隔符，默认空格或制表符，符号可以是正则表达式</li><li><code>-v</code> :修改awk内部变量<ul><li><code>-v FS=&quot;:&quot; &#x27;{xxxx}&#x27;</code>：通过改变awk内部变量方式，将默认的空格改成冒号</li><li><code>-v OFS=&quot;===&quot; &#x27;{xxxx}&#x27;</code>：将默认输出从空格改为 ===</li><li><code>-v name=&quot;lzo&quot;</code> 定义变量</li><li><code>-v name=&quot;$PATH&quot;</code> 使用系统环境变量</li></ul></li></ul></li><li><p>范围:（条件筛选）</p><ul><li><code>&#x27;/^reg/{action}&#x27;</code>:可以是正则</li><li><code>&#x27;/^reg/,/^toreg/{action}&#x27;</code>:匹配从reg开头的到从toreg开头的记录</li><li><code>&#x27;$3&gt;=500{action}&#x27;</code></li><li><code>&#x27;NR==3{action}&#x27;</code></li><li><code>&#x27;NR==3,NR==6{action}&#x27;</code> :三到六行</li><li>算数运算符 &gt;= &lt;= == != &gt; &lt;</li></ul></li><li><p>模式(pattern)：定义变量等</p></li><li><p>动作：</p><ul><li><code>print</code>:输出<ul><li>默认分割付空格，<code>{print $1,$2}</code>：指定逗号，打印的结果就跟通过空格分开kk</li><li>$n第n列，</li><li>$0输出所有</li></ul></li><li><code>printf</code>:格式化输出，默认没有换行符<ul><li>格式<ul><li>{printf &quot;%s%s%s\n&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;} 每行添加换行</li><li>{printf &quot;%s\t%s\t%s\t\n&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;} 每行三个字段添加制表符距离再换行</li><li>{printf &quot;%-30s%s\t%s\t\n&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;} 第一个距离30长度距离，其他段添加制表符距离再换行</li></ul></li></ul></li></ul></li><li><p>变量 </p><ul><li><code>NF</code>:分割符分隔之后的字段数量, {print $NF}代表获取最后一个字段<ul><li><code>print $NF</code>:打印最后一段(NR NF 这种是不需要加$的)</li><li>$NF 意思是 $n， n用NF替换，而NF代表列的数目，比如5列，$NF == $5 </li></ul></li><li><code>NR</code>:行号<ul><li><code>awk &#x27;NR==3{print $1}&#x27; file</code></li><li><code>awk &#x27;NR&gt;=3&amp;&amp;NR&lt;=5{print $1}&#x27; file</code></li></ul></li><li><code>FNR</code>:多文件操作时，分别统计各个文件的行号</li><li><code>FILENAME</code>:文件名称</li><li><code>OFS=&quot;#&quot;{}</code>:指定输出字段的分割付<ul><li>本来默认输出是可空格，输出前还需要通过，隔开每一列</li></ul></li><li><code>RS</code>:指定换行符号(awk 认为只要遇到这个符号，后面的就是下一行了)</li><li><code>ORS</code>:输出时用指定符号代替换行符</li><li><code>ARGV</code>:数组形式储存当前操作的参数列表</li><li>全局变设置 awk &#x27;BEGIN{xxx;xxx2} {动作}&#x27; 文件  在动作之前，先做一件事<ul><li><code>FS</code>:<code>BEGIN{FS=&quot;:&quot;}</code>,通过全局变量设置默认输入分割付为分号</li><li><code>OFS</code>:设置默认输出分隔符</li></ul></li></ul></li><li><p>功能</p><ul><li>截取字段<ul><li><code>awk &#x27;{print $1,&quot;拼接格式&quot;,$2}&#x27;</code>:以空格或制表符切割，<code>$1-$n</code>代表每一个分段，<code>$0</code>整行,外单引 内双引</li></ul></li><li>运算<ul><li><code>echo &quot;2 3 4&quot;|awk &#x27;{print $1*$2-$3}&#x27;</code>:2</li></ul></li><li>BEGIN 和 END<ul><li><code>awk &#x27;BEGIN{print &quot;所有行正文之前插入&quot;}{print $0,&quot;正文&quot;}END{print &quot;所有处理结束&quot;}&#x27;</code></li><li>通过begin制作表头<ul><li>awk -F&quot;:&quot; &#x27;BEGIN{printf &quot;%s\t%s\t%s\t\n&quot;,&quot;用户名&quot;,&quot;用户id&quot;,&quot;bash&quot;}{printf  &quot;%s\t%s\t%s\t\n&quot;,$1,$3,$NF}&#x27; passwd</li></ul></li></ul></li></ul></li><li><p>使用</p><ul><li><p>awk &#x27;{print $1 &quot;\t&quot; $2} filename&#x27;:打印每行第2，3个段，默认空白符号分割,\t对齐</p></li><li><p>awk -F&quot;:&quot; &#x27;$3==102&amp;&amp;$4==&quot;bold&quot;&amp;&amp;NF==7{print $0}&#x27; filename:</p><ul><li>输出第三列是102,并且第四列为bold,并且是七列的行</li></ul></li><li><p>awk -F&quot;:&quot; &#x27;$3==102{$5=&quot;***&quot;;print $0}&#x27; filename</p><ul><li>隐藏第五列的内容</li></ul></li><li><p>awk -F&quot;:&quot; &#x27;/^abc/{print $0}&#x27; filename:通过正则验证    </p></li><li><p>awk -F&quot;:&quot; &#x27;/\/sbin\/nologin$/{print $1}&#x27; passwd :找到nologin的用户</p></li></ul></li></ul></li><li><p>ag(the_silver_searcher)</p><ul><li><code>ag -l 关键字 dir</code>：查找dir文件夹下所以包含指定关键字的文件名</li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="系统调用">系统调用<a class="hash-link" href="#系统调用" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="io操作">IO操作<a class="hash-link" href="#io操作" title="Direct link to heading">​</a></h3><ul><li>文件描述符<ul><li>文件描述符是非负整数,打开现存文件或新建文件时，系统内核会返回一个描述符来指以打开的文件</li><li>在系统调用(文件IO)中,文件描述符起到标识作用，操作文件，就是对描述符号的操作</li><li>程序运行或进程开启，系统自动创建三个描述符<ul><li><code>0 标准输入</code> -&gt; 标准IO <code>stdin</code></li><li><code>1 标准输出</code> -&gt; 标准IO <code>stdout</code></li><li><code>2 标准错误</code> -&gt; 标准IO <code>stderr</code></li></ul></li><li>创建文件描述符<ul><li>int open(&#x27;filename.txt&#x27;,文件标志)</li><li>int open(&#x27;filename.txt&#x27;,文件标志(存在O_CREAT),权限)</li></ul></li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/linux/linux-shell.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/linux/linux-shell-issues"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">小技巧</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/linux/linux-vim"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">vim</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#shell-脚本" class="table-of-contents__link toc-highlight">shell 脚本</a><ul><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#开启-shell" class="table-of-contents__link toc-highlight">开启 shell</a></li><li><a href="#执行" class="table-of-contents__link toc-highlight">执行</a></li><li><a href="#常用的-bash-语句" class="table-of-contents__link toc-highlight">常用的 bash 语句</a></li><li><a href="#语法" class="table-of-contents__link toc-highlight">语法</a></li><li><a href="#字符串" class="table-of-contents__link toc-highlight">字符串</a></li><li><a href="#数组" class="table-of-contents__link toc-highlight">数组</a></li><li><a href="#命令" class="table-of-contents__link toc-highlight">命令</a></li></ul></li><li><a href="#系统调用" class="table-of-contents__link toc-highlight">系统调用</a><ul><li><a href="#io操作" class="table-of-contents__link toc-highlight">IO操作</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/other-weblinks">收藏网址</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/other/other-markdown">Markdown</a></li></ul></div><div class="col footer__col"><div class="footer__title">外部链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/liaozhongxun" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/lzo-gitee" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzo-gitee.gitee.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云WEB<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzo-gitee.gitee.io/gitee-static/images/home.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云 WEB static BasePath<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.001365ce.js"></script>
<script src="/assets/js/main.c475113b.js"></script>
</body>
</html>