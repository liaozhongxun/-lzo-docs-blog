<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-web/JavaScript/垃圾桶/script-model-browser">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">浏览器知识点 | WEB - 前端开发</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/web/JavaScript/垃圾桶/script-model-browser"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="浏览器知识点 | WEB - 前端开发"><meta data-rh="true" name="description" content="浏览器输入url后"><meta data-rh="true" property="og:description" content="浏览器输入url后"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/web/JavaScript/垃圾桶/script-model-browser"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/web/JavaScript/垃圾桶/script-model-browser" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/web/JavaScript/垃圾桶/script-model-browser" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="WEB - 前端开发 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="WEB - 前端开发 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2a379df3.css">
<link rel="preload" href="/assets/js/runtime~main.ac6f8ec9.js" as="script">
<link rel="preload" href="/assets/js/main.26970de1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_DKhd" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/photo.jpg" alt="" class="themedImage_AoFY themedImage--light_ICKC"><img src="/img/photo.jpg" alt="" class="themedImage_AoFY themedImage--dark_nJlp"></div><b class="navbar__title text--truncate">我的WEB文档</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/other-weblinks">文档</a><a href="https://github.com/liaozhongxun" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Boxg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_M8YT colorModeToggle_WbSm"><button class="clean-btn toggleButton_B05K toggleButtonDisabled__LFC" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_fjht"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_dLoH"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_czcc"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_xnCb docsWrapper_OwYP"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_CBsf" type="button"></button><div class="docPage_tA2a"><aside class="theme-doc-sidebar-container docSidebarContainer_mK2a"><div class="sidebar_yupf"><nav class="menu thin-scrollbar menu_t8eH"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/blogtype/play-rtsp-video">blogtype</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/database/mysql-v2">database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/idea/idea-vscode">idea</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/imd">imd</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/linux/">linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;linux&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/other/other-algorithm">other</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/other-weblinks-yule">Favorites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/other-weblinks">Favorites</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/project/xuepindata-v">project</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/server/C/C-base">server</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tmp/菜单">tmp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/web/JavaScript/utils/util-js">web</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/web/JavaScript/utils/util-js">JavaScript</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/JavaScript/utils/util-js">utils</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/web/JavaScript/垃圾桶/h5-model-localvideo">垃圾桶</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/h5-model-localvideo">h5 本地摄像头视频采集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/h5-model-webRTC">webRTC 直播功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/web/JavaScript/垃圾桶/script-model-browser">浏览器知识点</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/script-model-request">服务器请求</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/script-model-websocket">websocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/web-library-https">HTTPS 认证</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/web-library-mockjs">Mockjs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/JavaScript/垃圾桶/web-safety">web安全</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/RegExp/">正则表达式</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/issues/issues-html">issues</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/media-webrtc">webrtc</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/react/react-docs">react</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/style/style-css3">style</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/threejs/base">threejs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/tool/web-my-vuecli">tool</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/visualization/day01-css3">visualization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/vue/vue-router">vue</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-admin">后台管理系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-app-uniapp-2023">uni-app 2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-app-uniapp-mumu">mumu 手机模拟器】</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-app-uniapp">uni-app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-css">css</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-diskapp-electron">electron</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-html">html</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-script-es6">ECMAScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-script-js">JavaScript 基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/web-script-ts">TypeScript 基础</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/web/wechat-applet/wechat-mini-app-2023">wechat-applet</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/兼容问题">兼容问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/性能优化问题">性能优化问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/设计模式">设计模式</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/window/win-11">window</a></div></li></ul></nav></div></aside><main class="docMainContainer_LtR_"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_JRco"><div class="docItemContainer_KVPg"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__qF7" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ztdt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">web</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JavaScript</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">垃圾桶</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">浏览器知识点</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_rxiX theme-doc-toc-mobile tocMobile_bFl0"><button type="button" class="clean-btn tocCollapsibleButton_dT4k">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>浏览器知识点</h1></header><h2 class="anchor anchorWithStickyNavbar_cclw" id="浏览器输入url后">浏览器输入url后<a class="hash-link" href="#浏览器输入url后" title="Direct link to heading">​</a></h2><blockquote><p>一、从浏览器接收 url 到开启网络请求线程</p></blockquote><p>这一部分可以展开浏览器的机制以及进程与线程之间的关系</p><ul><li>浏览器是<strong>多进程</strong>的，有一个主控进程，以及<strong>每一个 tab 页面</strong>都会新开一个进程</li><li><strong>tab 页面</strong>都可以看作是浏览器的内核进程 ( 包括 <strong>GUI 线程</strong>、<strong>JS 引擎线程</strong>、<strong>事件触发线程</strong>、<strong>定时器线程</strong>、<strong>网络请求线程</strong>等多个线程 )</li><li>解析 URL ( 协议//主机:端口号/目录路径?查询参数#hash)</li><li>解析协议 : 浏览器会根据解析出的<strong>协议</strong>，开辟一个<strong>网络线程</strong>，<strong>前往</strong>请求资源</li></ul><blockquote><p>二、开启网络线程到发出一个完整的 http 请求</p></blockquote><p>这一部分涉及到 dns 查询，tcp/ip 请求，五层因特网协议栈等知识</p><div class="language-shell codeBlockContainer_lznB theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_CQ_s"><pre tabindex="0" class="prism-code language-shell codeBlock_Zn2u thin-scrollbar"><code class="codeBlockLines_l697"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1、解析主机 : 如果输入主机的是域名，需要进行 dns 解析成 IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1-1、如果浏览器有缓存，直接使用浏览器缓存，否则使用本机缓存，再没有的话就是用host</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1-2、如果本地没有，就向dns域名服务器查询，查询到对应的IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2、连接主机 : tcp/ip 请求(三次握手建立连接发送请求,四次挥手断开连接)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2-1、3次过程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-1-1、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-1-2、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-1-3、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2-2、4次过程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-2-1、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-2-2、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-2-3、</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   2-2-4、</span><br></span></code></pre><div class="buttonGroup_h_YJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_znN4" aria-hidden="true"><svg class="copyButtonIcon_zVJ1" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_e7BF" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>三、从服务器接收到请求后的处理</p></blockquote><p>这一部分可能涉及到<strong>负载均衡</strong>，<strong>安全拦截</strong>以及<strong>后台内部的处理</strong>等等</p><p>1、<strong>负载均衡：</strong>对于大型的项目，由于并发访问量很大，所以往往一台服务器是吃不消的，所需要的处理方案称为负载均衡
2、<strong>步骤</strong>
2-1、一般有的后端是有统一的验证的，如安全拦截，跨域验证
2-2、如果这一步不符合规则，就直接返回了相应的http报文（如拒绝请求等）
2-3、然后当验证通过后，才会进入实际的后台代码，此时是程序接收到请求，然后执行（譬如查询数据库，大量计算等等）
2-4、等程序执行完毕后，就会返回一个http响应包（一般这一步也会经过多层封装）
2-5、然后就是将这个包从后端发送到前端，完成交互 </p><blockquote><p>四、后台和前台的 http 交互</p></blockquote><p>这一部分包括 <strong>http 响应头</strong>、<strong>响应码</strong>、<strong>报文结构</strong>、<strong>cookie</strong>、<strong>token</strong> 等，编码解码，如 gzip 压缩等</p><p>1、 http 报文(http 报文作为信息的载体)
响应报文报文分为<strong>响应行、响应头、和响应体</strong>;请求报文分为<strong>请求行、请求头、和请求体</strong> ，get 请求无请求体</p><div class="language-shell codeBlockContainer_lznB theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_CQ_s"><pre tabindex="0" class="prism-code language-shell codeBlock_Zn2u thin-scrollbar"><code class="codeBlockLines_l697"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1-1、通用头部(General)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     1-1-1、Request Url:      # 请求的web服务器地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     1-1-1、Request Method:   # 请求方式（http:1.1 -&gt; Get、POST、OPTIONS、PUT、HEAD、DELETE、CONNECT、TRACEd等）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     1-1-1、Status Code:      # 请求的返回状态码，如200代表成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         1xx——指示信息，表示请求已接收，继续处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         2xx——成功，表示请求已被成功接收、理解、接受</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         3xx——重定向，要完成请求必须进行更进一步的操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         4xx——客户端错误，请求有语法错误或请求无法实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         5xx——服务器端错误，服务器未能实现合法的请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         200——表明该请求被成功地完成，所请求的资源发送回客户端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         304——自从上次请求后，请求的网页未修改过，请客户端使用本地缓存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         400——客户端请求有错（譬如可以是安全模块拦截）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         401——请求未经授权</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         403——禁止访问（譬如可以是未登录时禁止）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         404——资源未找到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         500——服务器内部错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         503——服务不可用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         .....</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     1-1-1、Remote Address: 请求的远程服务器地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1-2、请求头(Request headers) [view source 请求行: POST /url HTTP/1.1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Accept:      # 接收类型，表示浏览器支持的MIME类型（对标服务端返回的Content-Type）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Accept-Encoding：     # 浏览器支持的压缩类型,如gzip等,超出类型不能接收</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Content-Type：     # 客户端发送出去请求体内容的类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;application/x-www-form-urlencoded&#x27;: &#x27;URLSearchParams:name=username&amp;age=20&#x27; 表单格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;application/json&#x27;: &quot;{name:&#x27;username&#x27;,age:20}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;multipart/form-data&#x27;: &quot;FormData 对象&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;Blob/BufferSource&#x27;: &quot;二进制数据&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#              # 服务器返回</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;text/plain;charset=UTF-8&#x27;:&#x27;普通文本&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         &#x27;text/html;charset=UTF-8&#x27;:&#x27;html标签&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#              # 对照表 https:     # tool.oschina.net/commons)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Cache-Control:      # 指定请求和响应遵循的缓存机制，如no-cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     If-Modified-Since：     # 对应服务端的Last-Modified，用来匹配看文件是否变动，只能精确到1s之内，http1.0中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Expires：     # 缓存控制，在这个时间内不会请求，直接使用缓存，http1.0，而且是服务端时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Max-age：     # 代表资源在本地缓存多少秒，有效时间内不会请求，而是使用缓存，http1.1中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     If-None-Match：     # 对应服务端的ETag，用来匹配文件内容是否改变（非常精确），http1.1中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Cookie:      # 有cookie并且同域访问时会自动带上</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Connection:      # 当浏览器与服务器通信时对于长连接如何进行处理,如keep-alive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Host：     # 请求的服务器URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Origin：     # 最初的请求是从哪里发起的（只会精确到端口）,Origin比Referer更尊重隐私</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Referer：     # 该页面的来源URL(适用于所有类型的请求，会精确到详细页面地址，csrf拦截常用到这个字段)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     User-Agent：     # 用户客户端的一些必要信息，如UA头部等</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1-3、响应头(Response headers) [view source 响应行:HTTP/1.1 200]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Access-Control-Allow-Headers:      # 服务器端允许的请求Headers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Access-Control-Allow-Methods:      # 服务器端允许的请求方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Access-Control-Allow-Origin:      # 服务器端允许的请求Origin头部（譬如为*）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Content-Type：     # 服务端返回的响应体内容的类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Date：     # 数据从服务器发送的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Cache-Control：     # 告诉浏览器或其他客户，什么环境可以安全的缓存文档</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Last-Modified：     # 请求资源的最后修改时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Expires：     # 应该在什么时候认为文档已经过期,从而不再缓存它</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Max-age：     # 客户端的本地资源应该缓存多少秒，开启了Cache-Control后有效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     ETag：     # 请求变量的实体标签的当前值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Set-Cookie：     # 设置和页面关联的cookie，服务器通过这个头部把cookie传给客户端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Keep-Alive：     # 如果客户端有keep-alive，服务端也会有响应（如timeout=38）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     Server：     # 服务器的一些相关信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#      # 譬如，请求头部的Accept要和响应头部的Content-Type匹配，否则会报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#      # 譬如，跨域请求时，请求头部的Origin要匹配响应头部的Access-Control-Allow-Origin，否则会报跨域错误。。。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1-4、请求/响应体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup_h_YJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_znN4" aria-hidden="true"><svg class="copyButtonIcon_zVJ1" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_e7BF" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>2、 长连接与短连接</p><p><strong>长连接：</strong>一个tcp/ip连接上可以连续发送多个数据包，在tcp连接保持期间，如果没有数据包发送，需要双方发检测包以维持此连接，一般需要自己做在线维持（类似于心跳包）http1.1起，默认使用长连接，使用长连接会有这一行Connection: keep-alive
<strong>短连接：</strong>通信双方有数据交互时，就建立一个tcp连接，数据发送完成后，则断开此tcp连接(http1.0默认短连接)</p><blockquote><p>https</p></blockquote><ul><li>https 就是安全版本的 http，譬如一些支付等操作基本都是基于 https 的，因为 http 请求的安全系数太低了。</li><li>简单来看，https 与 http 的区别就是： 在请求前，<strong>会建立 ssl 链接，确保接下来的通信都是加密的</strong>，无法被轻易截取分析</li><li>一般来说，如果要将网站升级成 https，需要后端支持（后端需要申请证书等），然后 https 的开销也比 http 要大（因为需要额外建立安全链接以及加密等），所以<!-- -->*<!-- -->一般来说 http2.0 配合 https 的体验更佳（因为 http2.0 更快了）</li></ul><blockquote><p>http 2.0</p></blockquote><p>6-1、http2.0不是https，它相当于是http的下一代规范
6-2、然后简述下http2.0与http1.1的显著不同点：
http1.1中，每请求一个资源，都是需要开启一个tcp/ip连接的，所以对应的结果是，每一个资源对应一个tcp/ip请求，由于tcp/ip本身有并发数限制，所以当资源一多，速度就显著慢下来
http2.0中，一个tcp/ip请求可以请求多个资源，也就是说，只要一次tcp/ip请求，就可以请求若干个资源，分割成更小的帧请求，速度明显提升。
所以，如果http2.0全面应用，很多http1.1中的优化方案就无需用到了（譬如打包成精灵图，静态资源多域名拆分等）
6-3、然后简述下http2.0的一些特性：
多路复用（即一个tcp/ip连接可以请求多个资源）
首部压缩（http头部压缩，减少体积）
二进制分帧（在应用层跟传送层之间增加了一个二进制分帧层，改进传输性能，实现低延迟和高吞吐量）
服务器端推送（服务端可以对客户端的一个请求发出多个响应，可以主动通知客户端）
请求优先级（如果流被赋予了优先级，它就会基于这个优先级来处理，由服务器决定需要多少资源来处理该请求。）</p><hr><blockquote><p>五、缓存</p></blockquote><p>5-1、强缓存(200 from cache)与弱缓存(304)</p><ul><li>强缓存（200 from cache）时，浏览器如果判断本地缓存未过期，就直接使用，无需发起 http 请求</li><li>协商缓存（304）时，浏览器会向服务端发起 http 请求，然后服务端告诉浏览器文件未改变，让浏览器使用本地缓存</li><li>对于协商缓存，使用 Ctrl + F5 强制刷新可以使得缓存无效</li><li>但是对于强缓存，在未过期时，必须更新资源路径才能发起新的请求（更改了路径相当于是另一个资源了，这也是前端工程化中常用到的技巧）</li></ul><p>5-2、相关头部</p><blockquote><p>If-None-Match/E-tag、If-Modified-Since/Last-Modified、Cache-Control/Max-Age、Pragma/Expires</p></blockquote><p>http1.0 中的缓存控制：</p><ul><li>Pragma</li><li>Expires 用的是服务器时间</li><li>请求头(浏览器端)If-Modified-Since 与 响应头(服务器端) Last-Modifie 相匹配,说明内容未变(协商缓存)</li></ul><p>http1.1 中的缓存控制：</p><ul><li>Cache-Control：缓存控制头部，有 no-cache、max-age 等多种取值</li><li>max-age=&#x27;xxx&#x27;：服务端配置的，用来控制强缓存，在规定的时间之内，浏览器无需发出请求，直接使用本地缓存</li><li>请求头(浏览器端)If-None-Match 与 响应头(服务器端) E-tag 相匹配,说明内容未变(协商缓存)</li></ul><p>E-tag 相比 Last-Modified？</p><div class="codeBlockContainer_lznB theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_CQ_s"><pre tabindex="0" class="prism-code language-text codeBlock_Zn2u thin-scrollbar"><code class="codeBlockLines_l697"><span class="token-line" style="color:#393A34"><span class="token plain">Last-Modified：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">表明服务端的文件最后何时改变的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">它有一个缺陷就是只能精确到1s，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">然后还有一个问题就是有的服务端的文件会周期性的改变，导致缓存失效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E-tag：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">是一种指纹机制，代表文件相关指纹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">只有文件变才会变，也只要文件变就会变，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">也没有精确时间的限制，只要文件一遍，立马E-tag就不一样了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果同时带有E-tag和Last-Modified，服务端会优先检查E-tag</span><br></span></code></pre><div class="buttonGroup_h_YJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_znN4" aria-hidden="true"><svg class="copyButtonIcon_zVJ1" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_e7BF" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>六、 浏览器接收到 http 数据包后的解析流程</p></blockquote><p><img loading="lazy" src="/assets/images/2022-12-06_225757-9a71259fec64d0aebf55bf49288122b0.jpg" width="714" height="342" class="img_v6r2"></p><p>1、 解析 <code>HTML</code>，构建 <code>DOM</code> 树
生产DOM树之前如果与到js代码会先执行js，再继续渲染，否则如果js有操作dom的话会渲染频繁</p><p>2、 解析 <code>CSS</code>，生成 <code>CSSOM</code> 树</p><p>3、 合并 <code>DOM</code> 树和 <code>CSSOM</code> 树，生成 <code>render</code> 树</p><p>4、 布局 <code>render</code> 树（<code>Layout/reflow</code>），负责各元素尺寸、位置的计算</p><ul><li><code>Layout</code> 也称为 <code>Reflow</code>，即<strong>回流</strong>,一般意味着元素的内容、结构、位置或尺寸发生了变化，需要重新计算样式和渲染树</li><li><code>Repaint</code> 也称为即<strong>重绘</strong>。意味着元素发生的改变只是影响了元素的一些外观之类的时候（例如，背景色，边框颜色，文字颜色等），此时只需要应用新样式绘制这个元素就可以了</li></ul><p>回流的成本开销要高于重绘，而且一个节点的回流往往回导致子节点以及同级节点的回流，
所以优化方案中一般都包括，尽量避免回流。</p><p>引起回流重绘的条件</p><div class="language-javascript codeBlockContainer_lznB theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_CQ_s"><pre tabindex="0" class="prism-code language-javascript codeBlock_Zn2u thin-scrollbar"><code class="codeBlockLines_l697"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 1.页面渲染初始化</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 2.DOM结构改变，比如删除了某个节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 3.render树变化，比如减少了padding</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 4.窗口resize</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 5.最复杂的一种：获取某些属性，引发回流,DOM操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *      很多浏览器会对回流做优化，会等到数量足够时做一次批处理回流</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *      但是除了render树的直接变化，当获取一些属性时，浏览器为了获得正确的值也会触发回流，这样使得浏览器优化无效，包括</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *         （1）offset(Top/Left/Width/Height)</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *          (2) scroll(Top/Left/Width/Height)</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *          (3) cilent(Top/Left/Width/Height)</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *          (4) width,height</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *          (5) 调用了getComputedStyle()或者IE的currentStyle</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 6、改变字体大小会引发回流</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *    一般dom结构发生变化引发回流加重绘,样色变化只会发生重绘, 回流一定伴随着重绘，重绘却可以单独出现</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><br></span></code></pre><div class="buttonGroup_h_YJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_znN4" aria-hidden="true"><svg class="copyButtonIcon_zVJ1" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_e7BF" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>5、绘制（paint)，将可将元素绘制到屏幕中</p><p>​      默认标准流是在<strong>同一层绘制</strong>，一些特殊属性(<strong>如定位</strong>) <strong>会创建新的层</strong>绘制，被称为<strong>渲染层 </strong></p><p>​      不影响布局的<strong>CSS修改</strong>也会导致<strong>渲染层重绘（Repaint）</strong>，<strong>回流必然导致重绘</strong></p><p>6、<strong>Composite 合成层</strong></p><p>​      一些特殊属性（<code>transform 3d</code>属性）会创建一个新的合成层，并可以利用<strong>GPU来加速绘制</strong>，这时浏览器的优化手段</p><p>​      合成层以<strong>消耗内存</strong>为代价提高<strong>页面性能</strong>，动画更加顺畅，<strong>过度使用GPU不够电脑会卡</strong></p><blockquote><p>七、 CSS 的可视化格式模型</p></blockquote><p>元素的渲染规则，如包含块，控制框，BFC，IFC 等概念</p><blockquote><p>八、 JS 引擎</p></blockquote><p><strong>作用：</strong>将js转汇编转二进制最终变为cpu可以认识的数据
JS 的解释阶段，预处理阶段，执行阶段生成执行上下文，VO，作用域链、回收机制等等</p><ul><li>常见的JS引擎<ul><li><code>SpiderMonkey</code>:第一款，也是作者<code>Brendan Eich</code>开发的</li><li><code>Chakra</code>:微软开发主要<code>IE</code>浏览器</li><li><code>JavaScriptCore</code>:浏览器引擎(WebKit)中的内置JS引擎，Apply公司开发(小程序的JsCore)<ul><li>WebKit = 渲染工作的(WebCore) 与 JS引擎(JavaScriptCore) 组成 </li></ul></li><li><code>V8</code>:Google开发<ul><li><code>在Chrome中，只有Html的渲染采用了WebKit的WebCore代码，而在JavaScript上，重新搭建了一个NB哄哄的V8引</code></li><li><code>谷歌浏览器体验好的原因之一</code></li><li><code>V8</code><ul><li>C++编写，作为js引擎的话主要用于Google浏览器与NodeJs</li><li>也有作为其他语言的引擎，如<code>WebAssembly</code></li><li>可以独立运行，也能嵌入C++应用程序中 </li><li>工作过程：<ul><li>js引擎中的<code>Parse模块</code>，将js中有用到的代码转换成<code>AST（抽象语法树）</code>，引擎中的<code>Ignition(解释器)</code>才能认识解析</li><li><code>Ignition(解释器)</code>将<code>AST</code>转成<code>ByteCode(字节码)</code>，同时收集<code>TurboFan</code>优化需要的信息</li><li><code>TurboFan(编译器)</code>可以将字节码编译成CPU可以直接执行的机器码<ul><li>如果函数被多次调用，会被标记为热点函数，<code>直接</code>通过<code>TurboFan</code>转为机器码</li><li>但是函数后续执行时，如类型发生变化等等，机器码不能正确处理运算，就会被逆向还原为<code>字节码</code>（所以类型不固定很耗性能）</li></ul></li><li><code>Orinoco</code> V8内存回收模块</li></ul></li></ul></li></ul></li></ul></li></ul><blockquote><p>九、所有浏览器 userAgent 都是 Mozilla?</p></blockquote><blockquote><p>最初浏览器 NCSA Mosaic，简称 Mosaic,
后面出现另外一款浏览器 Mozilla( Mosaic + Killer)，--&gt; Mozilla 更名为 Netscape，也就是网景
<code>网站管理员探测 user agent，对 Mozilla 浏览器发送含有框架的页面，对非 Mozilla 浏览器发送没有框架的页面。</code>
后面软开发了自己的浏览器，Internet Explorer --&gt; (开始只有 Mozilla 支持框架（frame），为了快速收到含有框架的页面了)微软宣布 IE 是兼容 Mozilla，并且模仿 Netscape 称 IE 为“Mozilla/1.22“
后面微软与网景的浏览器大众，网景失败退出
Netscape 居然以 Mozilla(后面更名 Firefox)的名义重生了，并且开发了 <code>Gecko渲染引擎</code>（Mozilla/5.0(Windows; U; Windows NT 5.0; en-US; rv:1.1) Gecko/20020826）
Mozilla 后来变成了 Firefox，并自称“Mozilla/5.0 (Windows; U; Windows NT 5.1; sv-SE; rv:1.7.5) Gecko/20041108 Firefox/1.0”
很多浏览器使用了它的代码，每一个都将自己装作 Mozilla，而它们全都使用 Gecko。
<code>Gecko 很出色,因此 user agent 探测规则变了，使用 Gecko 的浏览器被发送了更好的代码</code>
linux Konqueror 浏览器<code>KHTML渲染引擎</code> 伪装 Gecko <code>like Gecko</code>(Mozilla/5.0 (compatible; Konqueror/3.2; FreeBSD) (KHTML, like Gecko))
Opera
后来苹果开发了 Safari 浏览器，并使用 KHTML 作为渲染引擎
但苹果加入了许多新的特性，于是苹果从 KHTML 另辟分支称之为 <code>WebKit</code>
但它又不想抛弃那些为 KHTML 编写的页面，于是 Safari 自称为“Mozilla/5.0 (Macintosh; U; PPC Mac OS X; de-de) AppleWebKit/85.7 (KHTML, like Gecko) Safari/85.5”
再后来，谷歌开发了 Chrome 浏览器，Chrome 使用 Webkit 作为渲染引擎(后面渲染引擎改用 Blink(基于 Webkit 开发)，V8 是 js 引擎不是渲染引擎)
和 Safari 之前一样，它想要那些为 Safari 编写的页面，于是它伪装成了 Safari
于是 Chrome 使用 WebKit，并将自己伪装成 Safari，WebKit 伪装成 KHTML，KHTML 伪装成 Gecko，最后所有的浏览器都伪装成了 Mozilla
<code>因为网站开发者可能会因为你是某浏览器（这里是 Mozilla），所以输出一些特殊功能的程序代码（这里指好的特殊功能），所以当其它浏览器也支持这种好功能时，就试图去模仿 Mozilla 浏览器让网站输出跟 Mozilla 一样的内容，而不是输出被阉割功能的程序代码。大家都为了让网站输出最好的内容，都试图假装自己是 Mozilla，一个已经不存在的浏览器……</code></p></blockquote><ul><li>渲染引擎之间关系(内核也叫做排版引擎、渲染引擎、浏览器引擎等)<div class="codeBlockContainer_lznB theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_CQ_s"><pre tabindex="0" class="prism-code language-text codeBlock_Zn2u thin-scrollbar"><code class="codeBlockLines_l697"><span class="token-line" style="color:#393A34"><span class="token plain">-   Gecko(Firefox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   KHTML(linux Konqueror)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   KHTML --&gt; Webkit(Safari)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   KHTML --&gt; Webkit --&gt; Blink(chrome)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   Presto(欧鹏) -&gt; 欧鹏 Presto 后期被 Blink 代替</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   Trident(IE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-   EdgeHTML(Edge 浏览器) --&gt; 后期被 Blink 代替</span><br></span></code></pre><div class="buttonGroup_h_YJ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_znN4" aria-hidden="true"><svg class="copyButtonIcon_zVJ1" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_e7BF" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>十、 其它</p></blockquote></li></ul><p>可以拓展不同的知识模块，如跨域，web 安全，hybrid 模式等等内容</p><h2 class="anchor anchorWithStickyNavbar_cclw" id="总结">总结<a class="hash-link" href="#总结" title="Direct link to heading">​</a></h2><p><a href="https://segmentfault.com/a/1190000013662126#articleHeader10" target="_blank" rel="noopener noreferrer">from</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/web/JavaScript/垃圾桶/script-model-browser.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_qjoQ" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vedB"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/web/JavaScript/垃圾桶/h5-model-webRTC"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">webRTC 直播功能</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/web/JavaScript/垃圾桶/script-model-request"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">服务器请求</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_MFax thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#浏览器输入url后" class="table-of-contents__link toc-highlight">浏览器输入url后</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/other-weblinks">收藏网址</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/other/other-markdown">Markdown</a></li></ul></div><div class="col footer__col"><div class="footer__title">外部链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/liaozhongxun" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Boxg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/lzo-gitee" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Boxg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzo-gitee.gitee.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云WEB<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Boxg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzo-gitee.gitee.io/gitee-static/images/home.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">码云 WEB static BasePath<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Boxg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ac6f8ec9.js"></script>
<script src="/assets/js/main.26970de1.js"></script>
</body>
</html>